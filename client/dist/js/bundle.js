!function(){"use strict";var e={38:function(e,t,a){var n,r=(n=a(121))&&n.__esModule?n:{default:n};window.document.addEventListener("DOMContentLoaded",(()=>{(0,r.default)()}))},121:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(a(207)),r=u(a(353));function u(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{n.default.component.registerMany({ImageTextGeneratorField:r.default})}},207:function(e){e.exports=Injector},353:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var o=r?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n}(a(594)),r=a(207),u=s(a(935)),o=s(a(923)),l=a(556);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const i=e=>{const{id:t,value:a,name:r,extraClass:u,className:s,disabled:d,readOnly:i,placeholder:c,autoFocus:f,type:p,maxLength:g,attributes:m,onChange:y,onBlur:b,onFocus:v,imageID:x,icon:_,FieldGroup:h,Button:O,Loading:j}=e,[M,C]=(0,n.useState)(!1),[E,F]=(0,n.useState)(""),[P,T]=(0,n.useState)("");(0,n.useEffect)((()=>{F(a||""),a||T("")}),[a]);const w=e=>{y&&e.target&&(F(e.target.value),y(e,{id:t,value:e.target.value}))};(0,n.useEffect)((()=>{if(!P)return;let e=0;const t=()=>{e<P.length?(F(P.substring(0,e+1)),e+=1,setTimeout(t,30)):w({target:{value:P}})};t()}),[P]);const I=["image-alt--input-group","btn btn--last","btn-outline-secondary",e.extraClass],L={...e,className:(0,o.default)("image-text-generator-field",u)};return n.default.createElement(n.default.Fragment,null,M&&n.default.createElement(j,{className:"image-text-generator-field__loading"}),n.default.createElement(h,L,n.default.createElement(l.InputGroup,null,n.default.createElement(l.Input,(()=>{const e={className:`${s} ${u}`,id:t,disabled:d,name:r,maxLength:g,"aria-label":r,readOnly:i,value:E||a||"",placeholder:c,autoFocus:f,type:p||"text",onBlur:b,onFocus:v,...m||{}};return i||(e.onChange=w),e})()),n.default.createElement(l.InputGroupAddon,{addonType:"append"},n.default.createElement(O,{onClick:async()=>{C(!0);try{const e=await fetch(`admin/alt-generator/generate/${x}`,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}),t=await e.json();t.altText&&T(t.altText)}catch(e){console.error("Generation failed:",e)}C(!1)},disabled:M||d,loading:M,noText:!0,className:(0,o.default)(I),icon:_})))))};i.propTypes={extraClass:u.default.string,id:u.default.string,className:u.default.string,disabled:u.default.bool,readOnly:u.default.bool,placeholder:u.default.string,autoFocus:u.default.bool,type:u.default.string,attributes:u.default.object,onChange:u.default.func,onBlur:u.default.func,onFocus:u.default.func,imageID:u.default.number},i.defaultProps={extraClass:"",className:"",value:"",type:"text",attributes:{}};t.default=(0,r.inject)(["FieldGroup","Button","Loading"])(i)},556:function(e){e.exports=Reactstrap},594:function(e){e.exports=React},923:function(e){e.exports=classnames},935:function(e){e.exports=PropTypes}},t={};!function a(n){var r=t[n];if(void 0!==r)return r.exports;var u=t[n]={exports:{}};return e[n](u,u.exports,a),u.exports}(38)}();